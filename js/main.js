// Données de toutes les SAÉ
const saeData = {
    'sae101': {
        title: 'SAÉ 1.01 - Se sensibiliser à l\'hygiène informatique',
        subtitle: 'Auto-formation au MOOC ANSSI sur la cybersécurité',
        competences: ['admin'],
        semestre: 'Semestre 1',
        type: 'Individuel',
        resultat: {
            description: 'Complétion du MOOC ANSSI avec obtention du certificat. Maîtrise des concepts fondamentaux de cybersécurité : authentification, chiffrement, sauvegardes, et bonnes pratiques de sécurité informatique.',
            qualite: 4,
            details: [
                'Certificat ANSSI obtenu avec 100% de réussite',
                'Compréhension des enjeux de cybersécurité',
                'Maîtrise des outils de protection (antivirus, firewall)',
                'Application des bonnes pratiques au quotidien'
            ]
        },
        demarche: {
            description: 'Auto-formation structurée avec prise de notes, réalisation des quiz et exercices pratiques.',
            qualite: 4,
            etapes: [
                'Planification du parcours d\'apprentissage',
                'Suivi méthodique des modules MOOC',
                'Prise de notes et synthèses personnelles',
                'Réalisation des exercices pratiques'
            ]
        },
        justification: 'L\'auto-formation m\'a permis d\'adapter le rythme à mes disponibilités tout en maintenant une progression constante.',
        autoevaluation: 'Très bonne assimilation des concepts de base. Formation théorique solide mais j\'aimerais plus de pratique technique.',
        adaptabilite: 'Ces compétences sont essentielles dans tous les métiers IT et applicables à l\'administration système et au développement.',
        preuve: {
            description: '<a href="https://drive.google.com/file/d/1DEb0HB8h6F5_Q9wR747uXcJmKevmYPfG/view?usp=sharing" target="_blank">Certificat ANSSI obtenu</a>',
            images: [
                
            ]
        }
    },





    'sae102': {
        title: 'SAÉ 1.02 - S\'initier aux réseaux informatiques',
        subtitle: 'Découverte des concepts fondamentaux des réseaux',
        competences: ['admin'],
        semestre: 'Semestre 1',
        type: 'Groupe de 2',
        resultat: {
            description: 'Réalisation d\'une maquette réseaux, d\'un dossier technique complet avec schémas détaillés et présentation orale maîtrisée.',
            qualite: 3,
            details: [
                'Maquette fonctionnelle à 60 %',
                'Dossier technique structuré et professionnel',
                'Schémas réseaux clairs avec Packet Tracer',
                'Calculs d\'adressage IP maîtrisés',
                'Présentation orale convaincante'
            ]
        },
        demarche: {
            description: 'Projet collaboratif intégrant la recherche, la conception de supports visuels professionnels et la création d\'une maquette réseau complète, de la phase initiale à la finalisation.',
            qualite: 4,
            etapes: [
                'Répartition des recherches par thèmes',
                'Recherche documentaire approfondie',
                'Réalisation des différentes tâches',
                'Création collaborative des schémas',
                'Rédaction et mise en forme du dossier'

            ]
        },
        autoevaluation: 'Bonne maîtrise des concepts théoriques. Collaboration efficace. Le travail n’est pas encore entièrement achevé, en particulier sur les aspects liés à la performance et aux fonctionnalités de la maquette.',
        adaptabilite: 'Base essentielle pour toute carrière informatique, applicable en administration système et support technique.',
        preuve: {
            description: '<a href="https://drive.google.com/drive/folders/1F5wCXaZG10ITycP8aN6acwITPAK338K8?usp=sharing" target="_blank">Compte rendu du projet</a>',
            images: [
                
            ]
        }
    },

    'sae103': {
        title: 'SAÉ 1.03 - Découvrir un dispositif de transmission',
        subtitle: 'Étude des supports et protocoles de transmission',
        competences: ['connect'],
        semestre: 'Semestre 1',
        type: 'Binôme',
        resultat: {
            description: 'Étude comparative entre les différents supports de transmission avec des mesures pratiques et rapport technique illustré.',
            qualite: 4,
            details: [
                'Mesures précises de performances',
                'Analyse comparative des technologies',
                'Compréhension des protocoles',
                'Rapport technique de qualité'
            ]
        },
        demarche: {
            description: 'Analyse rigoureuse des résultats théoriques et pratiques',
            qualite: 4,
            etapes: [
                'Recherche théorique approfondie',
                'Réalisation des mesures ',
                'Analyse et synthèse des résultats'
            ]
        },
        autoevaluation: 'Excellente progression sur la compréhension des transmissions. Développement de la rigueur scientifique.',
        adaptabilite: 'Compétences clés pour le dimensionnement de liaisons et le diagnostic de performance réseau.',
        preuve: {
            description: '<a href="https://drive.google.com/drive/folders/14CP3DDuWlAbtzhj-KljO53tKaqkgzkae?usp=sharing" target="_blank">Compte rendu SAE103',
            images: [
            ]
        }
    },

    'sae104': {
        title: 'SAÉ 1.04 - Se présenter sur Internet',
        subtitle: 'Création d\'un site web personnel professionnel',
        competences: ['create'],
        semestre: 'Semestre 1',
        type: 'Individuel',
        resultat: {
            description: 'Site web personnel responsive et professionnel créé avec HTML5 et CSS3.',
            qualite: 4,
            details: [
                'Design moderne et responsive',
                'Code propre et structuré',
                'Animations CSS fluides',
                'Compatibilité multi-navigateurs'
            ]
        },
        demarche: {
            description: 'Développement méthodique avec maquettage préalable et approche mobile-first pour optimiser l\'expérience utilisateur.',
            qualite: 4,
            etapes: [
                'Analyse des besoins et maquettage',
                'Développement HTML structure',
                'Styling CSS avec approche mobile-first',
                'Ajout des interactions JavaScript'
            ]
        },
        autoevaluation: 'Résultat satisfaisant avec un design professionnel. Bonne maîtrise des technologies web de base.',
        adaptabilite: 'Compétences web transférables à tout projet de développement front-end et création d\'interfaces utilisateur.',
        preuve: {
            description: `Certificat ANSSI obtenu et captures d'écran du parcours de formation.<br><br>
        Lien GitHub : <a href="https://github.com/MaximeAntoine14250/SAE14-Projet-main?tab=readme-ov-file" target="_blank">https://github.com/MaximeAntoine14250/SAE14-Projet-main</a><br><br>
        Lien GitPage : <a href="https://maximeantoine14250.github.io/SAE14-Projet-main/" target="_blank">https://maximeantoine14250.github.io/SAE14-Projet-main//</a>`,
            images: [
                
            ]
        }
        
        
    },

    'sae105': {
        title: 'SAÉ 1.05 - Traitement des données',
        subtitle: 'Développement d\'outils d\'analyse de données',
        competences: ['create'],
        semestre: 'Semestre 1',
        type: 'Binôme',
        resultat: {
            description: 'Programme Python d\'analyse de logs réseau avec génération de statistiques et visualisations graphiques automatisées.',
            qualite: 4,
            details: [
                'Programme Python optimisé et fonctionnel',
                'Interface utilisateur intuitive',
                'Génération automatique de rapports',
                'Visualisations graphiques pertinentes'
            ]
        },
        demarche: {
            description: 'Développement collaboratif avec Git, programmation modulaire et tests réguliers sur données réelles.',
            qualite: 4,
            etapes: [
                'Analyse des formats de données',
                'Conception architecture modulaire',
                'Développement collaboratif avec Git',
                'Tests et optimisation des performances'
            ]
        },
        autoevaluation: 'Excellent travail d\'équipe et maîtrise des concepts de programmation et d\'analyse de données.',
        adaptabilite: 'Compétences essentielles pour l\'analyse de performances, la business intelligence et le monitoring réseau.',
        preuve: {
            description: '<a href="https://drive.google.com/drive/folders/1VCEwZeV8_RcG3ropo_G_jTAxhQRXHjsA?usp=sharing" target="_blank">Code source',
            images: [
                
            ]
        }
    },

    'sae201': {
        title: 'SAÉ 2.01 - Construire un réseau informatique',
        subtitle: 'Conception et implémentation d\'infrastructure réseau',
        competences: ['admin', 'connect'],
        semestre: 'Semestre 2',
        type: 'Groupe de 3',
        resultat: {
            description: 'Infrastructure réseau complète pour PME avec segmentation VLANs, routage et services réseau opérationnels.',
            qualite: 5,
            details: [
                'Architecture réseau professionnelle',
                'Configuration Cisco maîtrisée',
                'Segmentation sécurisée avec VLANs',
                'Services réseau opérationnels',
                'Documentation technique complète'
            ]
        },
        demarche: {
            description: 'Méthodologie projet avec simulation préalable puis implémentation sur matériel réel avec tests progressifs.',
            qualite: 5,
            etapes: [
                'Analyse besoins et conception architecture',
                'Simulation complète avec Packet Tracer',
                'Configuration équipements physiques',
                'Tests d\'intégration et validation'
            ]
        },
        autoevaluation: 'Projet bien réussi démontrant une bonne maîtrise technique et une collaboration efficace.',
        adaptabilite: 'Compétences Cisco directement valorisables en entreprise et préparant aux certifications professionnelles.',
        preuve: {
            description: '<a href="https://drive.google.com/drive/folders/1etInl5py98Z-ReA21WRzSgvZ9wpAHXZY?usp=sharing" target="_blank">Cours',
            images: [
                
            ]
        }
    },

    'sae202': {
        title: 'SAÉ 2.02 - Mesurer et caractériser un signal',
        subtitle: 'Analyse et caractérisation des signaux télécoms',
        competences: ['connect'],
        semestre: 'Semestre 2',
        type: 'Binôme',
        resultat: {
            description: 'Caractérisation complète de signaux avec équipements professionnels et analyse de la qualité de transmission.',
            qualite: 5,
            details: [
                'Maîtrise des équipements de mesure',
                'Mesures précises et reproductibles',
                'Analyse spectrale avancée',
                'Corrélation théorie-pratique excellente'
            ]
        },
        demarche: {
            description: 'Protocole de mesure rigoureux avec validation par répétition et analyse critique des résultats.',
            qualite: 5,
            etapes: [
                'Formation aux équipements professionnels',
                'Élaboration protocole de mesure',
                'Réalisation mesures avec validation',
                'Analyse comparative et synthèse'
            ]
        },
        autoevaluation: 'Travail exemplaire avec maîtrise d\'équipements complexes et développement de l\'esprit critique.',
        adaptabilite: 'Compétences de métrologie cruciales pour le déploiement et la maintenance d\'infrastructures télécoms.',
        preuve: {
            description: '<a href="https://drive.google.com/drive/folders/143NVPE9gF8Dm6-UI1kJCkr5TYPyXzO_7?usp=sharing" target="_blank">Comptes rendus des projets de SAE202',
            images: [
                
            ]
        }
    },

    'sae203': {
        title: 'SAÉ 2.03 - Solution informatique pour l\'entreprise',
        subtitle: 'Développement d\'application métier complète',
        competences: ['create'],
        semestre: 'Semestre 2',
        type: 'Groupe de 4',
        resultat: {
            description: 'Application web complète de gestion d\'inventaire avec base de données, authentification et interface ergonomique.',
            qualite: 5,
            details: [
                'Application web full-stack fonctionnelle',
                'Base de données optimisée et sécurisée',
                'Interface utilisateur professionnelle',
                'Système d\'authentification robuste',
                'Documentation technique exhaustive'
            ]
        },
        demarche: {
            description: 'Mise en œuvre d\'une démarche agile basée sur le suivi du cahier des charges et des validations régulières par les utilisateurs.',
            qualite: 5,
            etapes: [
                'Analyse besoins et cahier des charges',
                'Conception architecture technique',
                'Développement agile par sprints',
                'Tests utilisateurs et déploiement'
            ]
        },
        autoevaluation: 'Projet mené à bien grâce à une bonne compréhension du fonctionnement et de l\'intégration de l\'API.',
        adaptabilite: 'Compétences full-stack transférables à tout environnement de développement professionnel.',
        preuve: {
            description: `<strong>Lien vers le repository GitHub :</strong><br><a href="https://github.com/MaximeAntoine14250/SAE23.git" target="_blank">https://github.com/MaximeAntoine14250/SAE23.git</a><br><br><strong>Lien vers la version en ligne (GitHub Pages) :</strong><br><a href="https://maximeantoine14250.github.io/SAE23/" target="_blank">https://maximeantoine14250.github.io/SAE23/</a>`,
            images: [
                
            ]
        }
    },

    'sae204': {
        title: 'SAÉ 2.04 - Projet Intégratif',
        subtitle: 'Projet transversal mobilisant toutes les compétences RT',
        competences: ['admin', 'connect', 'create'],
        semestre: 'Semestre 2',
        type: 'Groupe de 5',
        resultat: {
            description: 'Infrastructure complète pour PME : réseau segmenté, services serveurs, outils de supervision personnalisés.',
            qualite: 5,
            details: [
                'Infrastructure réseau complète et sécurisée',
                'Services serveurs opérationnels',
                'Documentation technique exhaustive',
                'Projet réalisé dans les délais'
            ]
        },
        demarche: {
            description: 'Gestion de projet complète avec planning, répartition des rôles, suivi client hebdomadaire, tests d\'intégration et recette utilisateur.',
            qualite: 5,
            etapes: [
                'Analyse des besoins et étude de faisabilité',
                'Conception de l\'architecture globale',
                'Planification et répartition des tâches',
                'Tests',
            ]
        },
        autoevaluation: 'Projet exemplaire représentant l\'aboutissement de ma formation. Très bonne synergie d\'équipe.',
        adaptabilite: 'Ce projet démontre ma capacité à gérer des projets IT complexes directement applicables en entreprise.',
        preuve: {
            description: '<a href="https://drive.google.com/drive/folders/18wZLE7_epo6QuWtt3LlqUXMmnZEGJKTv?usp=sharing" target="_blank">Projet complet',
            images: [
            ]
        }
    }
};

// Fonction pour ouvrir la modal
function openSAEModal(saeId) {
    const sae = saeData[saeId];
    if (!sae) {
        console.error('SAÉ non trouvée:', saeId);
        return;
    }

    // Créer ou récupérer la modal
    let modal = document.getElementById('saeDetailModal');
    if (!modal) {
        createModalHTML();
        modal = document.getElementById('saeDetailModal');
    }

    // Remplir le contenu
    updateModalContent(modal, sae);
    
    // Afficher la modal
    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
}

// Créer la structure HTML de la modal
function createModalHTML() {
    const modalHTML = `
        <div id="saeDetailModal" class="modal-sae-detail">
            <div class="modal-sae-content">
                <div class="modal-sae-header">
                    <button class="modal-close-btn" onclick="closeSAEDetailModal()">&times;</button>
                    <h2 id="modal-sae-title">Titre SAÉ</h2>
                    <p id="modal-sae-subtitle">Sous-titre</p>
                </div>
                
                <div class="modal-sae-body" id="modal-sae-body">
                    <!-- Le contenu sera inséré ici -->
                </div>
                
                <div class="modal-sae-footer">
                    <div class="modal-meta">
                        <span class="modal-semestre"></span>
                        <span class="modal-type"></span>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', modalHTML);
    
    // Ajouter l'événement de clic pour fermer
    document.getElementById('saeDetailModal').addEventListener('click', (e) => {
        if (e.target.id === 'saeDetailModal') {
            closeSAEDetailModal();
        }
    });
}

// Mettre à jour le contenu de la modal
function updateModalContent(modal, sae) {
    // Titre et sous-titre
    modal.querySelector('#modal-sae-title').textContent = sae.title;
    modal.querySelector('#modal-sae-subtitle').textContent = sae.subtitle;
    
    // Corps de la modal
    const body = modal.querySelector('#modal-sae-body');
    
    // Tags de compétences
    const competenceTagsHTML = sae.competences.map(comp => {
        const competenceNames = {
            'admin': 'Administrer',
            'connect': 'Connecter', 
            'create': 'Créer'
        };
        return `<span class="modal-competence-tag ${comp}">${competenceNames[comp]}</span>`;
    }).join('');
    
    // Générer les étoiles pour la qualité
    function generateStars(rating) {
        let stars = '';
        for (let i = 1; i <= 5; i++) {
            stars += i <= rating ? '★' : '☆';
        }
        return stars;
    }
    
    function getRatingText(rating) {
        const texts = {1: 'Insuffisant', 2: 'Faible', 3: 'Correct', 4: 'Bien', 5: 'Excellent'};
        return texts[rating] || 'Non évalué';
    }
    
    // Contenu complet
    body.innerHTML = `
        <div class="competences-mobilisees">
            <h4>Compétences mobilisées :</h4>
            <div class="modal-competence-tags">
                ${competenceTagsHTML}
            </div>
        </div>

        <div class="evaluation-section">
            <h3><i class="fas fa-trophy"></i> Résultat de l'action et sa qualité</h3>
            <div class="quality-rating">
                <span>Qualité du résultat :</span>
                <div class="stars">${generateStars(sae.resultat.qualite)}</div>
                <span class="rating-text">${getRatingText(sae.resultat.qualite)}</span>
            </div>
            <p>${sae.resultat.description}</p>
            <ul>
                ${sae.resultat.details.map(detail => `<li>${detail}</li>`).join('')}
            </ul>
        </div>

        <div class="evaluation-section">
            <h3><i class="fas fa-route"></i> Qualité de la démarche</h3>
            <div class="quality-rating">
                <span>Qualité de la démarche :</span>
                <div class="stars">${generateStars(sae.demarche.qualite)}</div>
                <span class="rating-text">${getRatingText(sae.demarche.qualite)}</span>
            </div>
            <p>${sae.demarche.description}</p>
            <h4>Étapes suivies :</h4>
            <ul>
                ${sae.demarche.etapes.map(etape => `<li>${etape}</li>`).join('')}
            </ul>
        </div>

        <div class="evaluation-section">
            <h3><i class="fas fa-user-check"></i> Autoévaluation</h3>
            <p>${sae.autoevaluation}</p>
        </div>

        <div class="evaluation-section">
            <h3><i class="fas fa-sync-alt"></i> Adaptabilité des compétences</h3>
            <p>${sae.adaptabilite}</p>
        </div>

        <div class="evaluation-section">
            <h3><i class="fas fa-camera"></i> Preuves</h3>
            <p>${sae.preuve.description}</p>
            <div class="preuves-gallery">
                ${sae.preuve.images.map((image, index) => `
                    <div class="preuve-item">
                        <img src="${image}" alt="Preuve ${index + 1}" onclick="openImageModal('${image}')">
                    </div>
                `).join('')}
            </div>
        </div>
    `;
    
    // Footer
    modal.querySelector('.modal-semestre').innerHTML = `<i class="fas fa-calendar-alt"></i> ${sae.semestre}`;
    modal.querySelector('.modal-type').innerHTML = `<i class="fas fa-users"></i> ${sae.type}`;
}

// Fermer la modal
function closeSAEDetailModal() {
    const modal = document.getElementById('saeDetailModal');
    if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

// Fermer avec Escape
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeSAEDetailModal();
    }
});


